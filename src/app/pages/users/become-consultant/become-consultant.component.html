<!-- Header -->
<app-header></app-header>
<!--Start form become consultant-->
<div class="container" style="margin-top: 150px;">
  <h1>Become consultant</h1>
  <div class="alert alert-danger" *ngIf="errMessage">{{ errMessage }}</div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-12">
              <label for="vendorDescription" class="form-label">Motivation letter</label>
              <textarea class="form-control" id="vendorDescription" placeholder="Vendor description" rows="3"
                [formControl]="consultantDescription"></textarea>
            </div>
            <div class="row mt-3">
              <div class="col-lg">
                <div class="panel panel-default">
                  <div class="panel-heading">
                  </div><br>
                  <div class="panel-body">
                    <strong>Upload your demo video</strong>
                    <div *ngIf="fileStatus.status==='progress'">
                      <div class="progress">
                        <div [style.width.%]="fileStatus.percent" class="progress-bar progress-bar-animated bg-info"
                          role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
                          {{ fileStatus.requestType }} {{ fileStatus.percent }}
                        </div>
                      </div>
                    </div>
                    <hr>
                    <form enctype="multipart/form-data">
                      <fieldset>
                        <div class="form-group">
                          <div>
                            <input type="file" (change)="onUploadFiles($event.target.files)" name="files"
                              accept="video/*" class="form-control" />
                          </div>
                        </div>
                      </fieldset>
                    </form>
                    <br>
                    <div *ngIf="showVideo" class="js-upload-finished">
                      <video width="320" height="155" controls>
                        <source [src]="uploadedVideo.url" [type]="uploadedVideo.type">
                      </video>
                    </div>

                  </div>
                </div>
              </div>
              <div class="col-lg">
                <div class="mb-3">
                  <label for="formFileMultiple" class="form-label">Select documents</label>
                  <input name="fileInput" style="display:none;" class="form-control" (change)="onSelectedFile($event)"
                    type="file" id="formFileMultiple" multiple>
                </div>
                <div class="col-lg">
                  <ul>
                    <li *ngFor="let file of uploadedFiles" (click)="deleteSelectedFile(file.name)">{{ file.name }} -
                      {{ file.size }}</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="text-sm-end">
      <button class="btn d-block d-sm-inline-block" (click)="sendConsultantRequest()"
        style="background-color: rgb(188, 144, 193);"><i class="ri-edit-box-line align-middle me-2"
          *ngIf="!hideButton"></i>
        Submit</button>
    </div>
    <div class="spinner-border text-primary" role="status" *ngIf="showSpinner">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>
